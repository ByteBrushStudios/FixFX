---
title: "Discord Status Embed"
description: "Customize txAdmin's Discord persistent status embed."
---

import { AlertTriangle, Info } from "lucide-react";
import { FeatureList, PropertyCard } from "@ui/components";

# Custom Discord Status Embed

Starting in v5.1, **txAdmin** has a Discord Persistent Status Embed feature. This is a Discord embed that txAdmin will update every minute, and you can configure it to display server status, and any other random thing that you can normally do with a Discord embed.

To add the embed, type `/status add` on a channel that the txAdmin bot has Send Message permission.

To modify the embed, navigate to `txAdmin > Settings > Discord Bot`, and click on the two JSON editor buttons.

<div className="my-6 p-4 border border-blue-500/30 bg-blue-500/10 rounded-lg flex gap-3">
  <Info className="w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5" />
  <div>
    <p className="font-semibold text-blue-500 mb-1">JSON Editing Tip</p>
    <p className="text-sm text-blue-500/90">If you are having issues with JSON encoding, we recommend you use [jsoneditoronline.org](https://jsoneditoronline.org/) to modify your JSON.</p>
  </div>
</div>

## Available Placeholders

To add dynamic data to the embed, you can use the built-in placeholders, which txAdmin will replace at runtime.

- `{{serverCfxId}}` - The Cfx.re id of your server, tied to your `sv_licenseKey` and detected at runtime.
- `{{serverJoinUrl}}` - The direct join URL of your server. Example: `https://cfx.re/join/xxxxxx`
- `{{serverBrowserUrl}}` - The FiveM Server browser URL. Example: `https://servers.fivem.net/servers/detail/xxxxxx`
- `{{serverClients}}` - The number of players online in your server.
- `{{serverMaxClients}}` - The `sv_maxclients` of your server, detected at runtime.
- `{{serverName}}` - The txAdmin-given name for this server. Can be changed in `txAdmin > Settings > Global`.
- `{{statusColor}}` - A hex-encoded color from the Config JSON.
- `{{statusString}}` - A text to be displayed with the server status from the Config JSON.
- `{{uptime}}` - For how long the server is online. Example: `1 hr, 50 mins`
- `{{nextScheduledRestart}}` - String with when the next scheduled restart is. Example: `in 2 hrs, 48 mins`

## Embed JSON

This is the JSON of the Embed that will be sent to Discord. This MUST be a valid Discord embed JSON.

We recommend you use a tool like [discohook.org](https://discohook.org/) to edit the embed. To do so, click `JSON Data Editor` at the bottom and paste the JSON inside the `embeds: [...]` array.

<div className="my-6 p-4 border border-amber-500/30 bg-amber-500/10 rounded-lg flex gap-3">
  <AlertTriangle className="w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5" />
  <div>
    <p className="font-semibold text-amber-500 mb-1">Important Notice</p>
    <p className="text-sm text-amber-500/90">At save time, txAdmin cannot validate if the embed is correct without sending it to the Discord API. If it does not work, check the `System Logs` page in txAdmin and see if there are any errors related to it. You don't need to set `color` or `footer` as txAdmin will replace those. You can modify the color in the config JSON, but the footer is generated by txAdmin.</p>
  </div>
</div>

### Example Embed JSON

```json
{
  "title": "{{serverName}}",
  "url": "{{serverBrowserUrl}}",
  "description": "You can configure this embed in `txAdmin > Settings > Discord Bot`, and edit everything from it (except footer).",
  "fields": [
    {
      "name": "> STATUS",
      "value": "```\n{{statusString}}\n```",
      "inline": true
    },
    {
      "name": "> PLAYERS",
      "value": "```\n{{serverClients}}/{{serverMaxClients}}\n```",
      "inline": true
    },
    {
      "name": "> F8 CONNECT COMMAND",
      "value": "```\nconnect 123.123.123.123\n```"
    },
    {
      "name": "> NEXT RESTART",
      "value": "```\n{{nextScheduledRestart}}\n```",
      "inline": true
    },
    {
      "name": "> UPTIME",
      "value": "```\n{{uptime}}\n```",
      "inline": true
    }
  ],
  "image": {
    "url": "https://forum-cfx-re.akamaized.net/original/5X/e/e/c/b/eecb4664ee03d39e34fcd82a075a18c24add91ed.png"
  },
  "thumbnail": {
    "url": "https://forum-cfx-re.akamaized.net/original/5X/9/b/d/7/9bd744dc2b21804e18c3bb331e8902c930624e44.png"
  }
}
```

## Embed Configuration

The configuration of the embed, where you can change the status texts, as well as the embed color. You can set up to 5 buttons.

For emojis, you can use an actual unicode emoji character, or the emoji ID. To get the emoji ID, insert it into discord, add `\` before it, then send the message to get the full name (e.g., `<:txicon:1062339910654246964>`).

### Example Configuration

```json
{
  "onlineString": "ðŸŸ¢ Online",
  "onlineColor": "#0BA70B",
  "partialString": "ðŸŸ¡ Partial",
  "partialColor": "#FFF100",
  "offlineString": "ðŸ”´ Offline",
  "offlineColor": "#A70B28",
  "buttons": [
    {
      "emoji": "1062338355909640233",
      "label": "Connect",
      "url": "{{serverJoinUrl}}"
    },
    {
      "emoji": "1062339910654246964",
      "label": "txAdmin Discord",
      "url": "https://discord.gg/eWhDDVCpPn"
    }
  ]
}
```
