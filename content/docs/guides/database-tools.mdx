---
title: Database Tools
description: Guide to using and optimizing database operations in CitizenFX.
icon: "Database"
---

import { FeatureList, CheckList, QuickLinks, DefinitionList, CommandCard, CommandTable, PropertyCard, IconGrid, Shortcut, StatusBadge, TroubleshootingCard, PermissionTable, ConfigBlock, StepList, ComparisonTable } from '@ui/components/mdx-components'

Proper database management is crucial for any FiveM server. This guide covers the most popular database libraries, optimization techniques, and best practices.

## Overview of Database Libraries

<PropertyCard title="OxMySQL (Recommended)" content="Modern async library with superior performance and error handling. Active development and community support. Use for all new projects." />

<PropertyCard title="MySQL-Async (Legacy)" content="Previously standard library, still functional but deprecated. Not recommended for new projects. Consider migrating to OxMySQL." />

### OxMySQL (Recommended)

[OxMySQL](https://github.com/overextended/oxmysql) is the recommended database library for CitizenFX projects. It provides async functionality, improved performance, and better error handling.

```lua
-- Installation
ensure oxmysql

-- Example usage
exports.oxmysql:execute('INSERT INTO users (identifier, name) VALUES (?, ?)', {
    identifier,
    name
}, function(affectedRows)
    print(affectedRows)
end)
```

### MySQL-Async (Legacy)

[MySQL-Async](https://github.com/brouznouf/fivem-mysql-async) was the standard for many years. While still functional, it's recommended to migrate to OxMySQL.

```lua
-- Installation
ensure mysql-async

-- Example usage
MySQL.Async.execute('INSERT INTO users (identifier, name) VALUES (@identifier, @name)', {
    ['@identifier'] = identifier,
    ['@name'] = name
}, function(affectedRows)
    print(affectedRows)
end)
```

### Ghmattimysql (Deprecated)

[Ghmattimysql](https://github.com/GHMatti/ghmattimysql) is deprecated and should not be used in new projects.

## Setting Up Your Database

### Connection Configuration

For OxMySQL, add to your `server.cfg`:

```cfg
set mysql_connection_string "mysql://username:password@localhost/database?charset=utf8mb4"
```

For MySQL-Async, configure in `config.json`:

```json
{
  "server": "localhost",
  "database": "your_database_name",
  "user": "username",
  "password": "password"
}
```

### Database Structure Best Practices

1. **Use Proper Indexes**:
   ```sql
   CREATE TABLE players (
       id INT AUTO_INCREMENT PRIMARY KEY,
       identifier VARCHAR(50) NOT NULL,
       name VARCHAR(255) NOT NULL,
       money INT NOT NULL DEFAULT 0,
       INDEX idx_identifier (identifier)
   );
   ```

2. **Use Appropriate Data Types**:
   ```sql
   CREATE TABLE vehicles (
       id INT AUTO_INCREMENT PRIMARY KEY,
       owner VARCHAR(50) NOT NULL,
       plate VARCHAR(8) NOT NULL UNIQUE,
       model VARCHAR(50) NOT NULL,
       stored BOOLEAN DEFAULT TRUE,
       fuel TINYINT UNSIGNED DEFAULT 100,
       engine_health FLOAT DEFAULT 1000.0,
       last_position JSON,
       INDEX idx_owner (owner),
       INDEX idx_plate (plate)
   );
   ```

3. **Foreign Keys for Relationships**:
   ```sql
   CREATE TABLE player_items (
       id INT AUTO_INCREMENT PRIMARY KEY,
       player_id INT NOT NULL,
       item_name VARCHAR(50) NOT NULL,
       quantity INT NOT NULL DEFAULT 1,
       FOREIGN KEY (player_id) REFERENCES players(id) ON DELETE CASCADE,
       INDEX idx_player_id (player_id),
       INDEX idx_item_name (item_name)
   );
   ```

## Database Operations

### Reading Data

#### OxMySQL

```lua
-- Async/Await (Recommended)
local function getPlayerData(identifier)
    local result = exports.oxmysql:executeSync('SELECT * FROM players WHERE identifier = ?', {identifier})
    return result[1]
end

-- Callback style
exports.oxmysql:execute('SELECT * FROM players WHERE identifier = ?', {identifier}, function(result)
    local player = result[1]
    if player then
        -- Process player data
    end
end)

-- Promise style
exports.oxmysql:execute('SELECT * FROM players WHERE identifier = ?', {identifier})
.then(function(result)
    local player = result[1]
    if player then
        -- Process player data
    end
end)
```

#### MySQL-Async

```lua
-- Async style
MySQL.Async.fetchAll('SELECT * FROM players WHERE identifier = @identifier', {
    ['@identifier'] = identifier
}, function(result)
    local player = result[1]
    if player then
        -- Process player data
    end
end)

-- Sync style (not recommended)
local result = MySQL.Sync.fetchAll('SELECT * FROM players WHERE identifier = @identifier', {
    ['@identifier'] = identifier
})
local player = result[1]
```

### Writing Data

#### OxMySQL

```lua
-- Insert data
exports.oxmysql:execute('INSERT INTO players (identifier, name, money) VALUES (?, ?, ?)', {
    identifier,
    name,
    startingMoney
}, function(result)
    print('Player created with ID: ' .. result.insertId)
end)

-- Update data
exports.oxmysql:execute('UPDATE players SET money = ? WHERE identifier = ?', {
    money,
    identifier
}, function(affectedRows)
    if affectedRows > 0 then
        print('Player money updated')
    end
end)
```

#### MySQL-Async

```lua
-- Insert data
MySQL.Async.execute('INSERT INTO players (identifier, name, money) VALUES (@identifier, @name, @money)', {
    ['@identifier'] = identifier,
    ['@name'] = name,
    ['@money'] = startingMoney
}, function(affectedRows)
    print('Player created')
end)

-- Update data
MySQL.Async.execute('UPDATE players SET money = @money WHERE identifier = @identifier', {
    ['@money'] = money,
    ['@identifier'] = identifier
}, function(affectedRows)
    if affectedRows > 0 then
        print('Player money updated')
    end
end)
```

### Transactions

#### OxMySQL

```lua
-- Transaction example
exports.oxmysql:transaction([
    {
        query = 'UPDATE players SET money = money - ? WHERE identifier = ?',
        values = { amount, buyerIdentifier }
    },
    {
        query = 'UPDATE players SET money = money + ? WHERE identifier = ?',
        values = { amount, sellerIdentifier }
    },
    {
        query = 'INSERT INTO transactions (buyer, seller, amount, item) VALUES (?, ?, ?, ?)',
        values = { buyerIdentifier, sellerIdentifier, amount, itemName }
    }
], function(success)
    if success then
        print('Transaction completed successfully')
    else
        print('Transaction failed')
    end
end)
```

#### MySQL-Async

```lua
-- Transaction example
MySQL.Async.transaction({
    {
        query = 'UPDATE players SET money = money - @amount WHERE identifier = @buyer',
        values = { ['@amount'] = amount, ['@buyer'] = buyerIdentifier }
    },
    {
        query = 'UPDATE players SET money = money + @amount WHERE identifier = @seller',
        values = { ['@amount'] = amount, ['@seller'] = sellerIdentifier }
    },
    {
        query = 'INSERT INTO transactions (buyer, seller, amount, item) VALUES (@buyer, @seller, @amount, @item)',
        values = { ['@buyer'] = buyerIdentifier, ['@seller'] = sellerIdentifier, ['@amount'] = amount, ['@item'] = itemName }
    }
}, function(success)
    if success then
        print('Transaction completed successfully')
    else
        print('Transaction failed')
    end
end)
```

## Performance Optimization

### Query Optimization

1. **Use Prepared Statements**:
   ```lua
   -- Bad (String concatenation)
   local query = 'SELECT * FROM players WHERE identifier = "' .. identifier .. '"'
   
   -- Good (Prepared statement)
   local query = 'SELECT * FROM players WHERE identifier = ?'
   local params = {identifier}
   ```

2. **Select Only Needed Columns**:
   ```lua
   -- Bad (Selecting everything)
   exports.oxmysql:execute('SELECT * FROM players WHERE identifier = ?', {identifier})
   
   -- Good (Selecting only needed columns)
   exports.oxmysql:execute('SELECT id, name, money FROM players WHERE identifier = ?', {identifier})
   ```

3. **Use Proper WHERE Clauses**:
   ```lua
   -- Bad (Full table scan)
   exports.oxmysql:execute('SELECT * FROM players WHERE LOWER(name) = LOWER(?)', {playerName})
   
   -- Good (Using indexed column)
   exports.oxmysql:execute('SELECT * FROM players WHERE identifier = ?', {identifier})
   ```

### Connection Pooling

OxMySQL handles connection pooling automatically. For MySQL-Async, configure the pool size in `config.json`:

```json
{
  "server": "localhost",
  "database": "your_database_name",
  "user": "username",
  "password": "password",
  "connectTimeout": 60000,
  "acquireTimeout": 60000,
  "pool": {
    "min": 5,
    "max": 20
  }
}
```

### Batch Operations

```lua
-- Bad (Multiple single inserts)
for _, item in ipairs(items) do
    exports.oxmysql:execute('INSERT INTO player_items (player_id, item_name, quantity) VALUES (?, ?, ?)', {
        playerId, item.name, item.quantity
    })
end

-- Good (Batch insert)
local params = {}
local placeholders = {}
for _, item in ipairs(items) do
    table.insert(params, playerId, item.name, item.quantity)
    table.insert(placeholders, '(?, ?, ?)')
end
exports.oxmysql:execute('INSERT INTO player_items (player_id, item_name, quantity) VALUES ' .. table.concat(placeholders, ','), params)
```

### Caching Strategies

```lua
-- Implement basic caching
local playerCache = {}

local function getPlayerData(identifier)
    -- Check cache first
    if playerCache[identifier] and playerCache[identifier].timestamp > os.time() - 60 then
        return playerCache[identifier].data
    end
    
    -- Fetch from database if not in cache
    local result = exports.oxmysql:executeSync('SELECT * FROM players WHERE identifier = ?', {identifier})
    local player = result[1]
    
    -- Update cache
    playerCache[identifier] = {
        data = player,
        timestamp = os.time()
    }
    
    return player
end

-- Purge cache periodically
CreateThread(function()
    while true do
        Wait(300000) -- 5 minutes
        local now = os.time()
        for identifier, cached in pairs(playerCache) do
            if now - cached.timestamp > 300 then -- 5 minutes
                playerCache[identifier] = nil
            end
        end
    end
end)
```

## Common Database Patterns

### Repository Pattern

```lua
-- players.lua
local PlayersRepository = {}

function PlayersRepository.FindByIdentifier(identifier)
    local result = exports.oxmysql:executeSync('SELECT * FROM players WHERE identifier = ?', {identifier})
    return result[1]
end

function PlayersRepository.Create(identifier, name, money)
    return exports.oxmysql:executeSync('INSERT INTO players (identifier, name, money) VALUES (?, ?, ?)', {
        identifier, name, money
    })
end

function PlayersRepository.UpdateMoney(identifier, money)
    return exports.oxmysql:executeSync('UPDATE players SET money = ? WHERE identifier = ?', {
        money, identifier
    })
end

function PlayersRepository.Delete(identifier)
    return exports.oxmysql:executeSync('DELETE FROM players WHERE identifier = ?', {identifier})
end

return PlayersRepository

-- Usage
local Players = require 'players'
local player = Players.FindByIdentifier('steam:123456789')
```

### Data Models

```lua
-- player_model.lua
local PlayerModel = {}

function PlayerModel.new(data)
    local self = data or {}
    self.id = self.id or nil
    self.identifier = self.identifier or nil
    self.name = self.name or ''
    self.money = self.money or 0
    
    function self:save()
        if self.id then
            -- Update existing
            exports.oxmysql:execute('UPDATE players SET name = ?, money = ? WHERE id = ?', {
                self.name, self.money, self.id
            })
        else
            -- Create new
            exports.oxmysql:execute('INSERT INTO players (identifier, name, money) VALUES (?, ?, ?)', {
                self.identifier, self.name, self.money
            }, function(result)
                self.id = result.insertId
            end)
        end
        return self
    end
    
    function self:addMoney(amount)
        self.money = self.money + amount
        return self:save()
    end
    
    return self
end

function PlayerModel.find(id)
    local result = exports.oxmysql:executeSync('SELECT * FROM players WHERE id = ?', {id})
    if result and result[1] then
        return PlayerModel.new(result[1])
    end
    return nil
end

function PlayerModel.findByIdentifier(identifier)
    local result = exports.oxmysql:executeSync('SELECT * FROM players WHERE identifier = ?', {identifier})
    if result and result[1] then
        return PlayerModel.new(result[1])
    end
    return nil
end

return PlayerModel

-- Usage
local PlayerModel = require 'player_model'
local player = PlayerModel.findByIdentifier('steam:123456789')
if player then
    player:addMoney(1000)
end
```

## Troubleshooting

### Common Database Errors

1. **Connection Issues**:
   ```
   Error: Connection to database failed
   ```
   
   **Solutions**:
   - Check if MySQL server is running
   - Verify connection credentials
   - Check if database exists
   - Check network connectivity
   - Verify port configuration

2. **Query Errors**:
   ```
   Error: ER_BAD_FIELD_ERROR: Unknown column 'nonexistent' in 'field list'
   ```
   
   **Solutions**:
   - Verify table schema
   - Check query syntax
   - Make sure tables are created
   - Update queries after schema changes

3. **Performance Issues**:
   ```
   Warning: Slow query detected (took 5000ms)
   ```
   
   **Solutions**:
   - Add proper indexes
   - Optimize queries
   - Use async operations
   - Implement caching
   - Check for database locks

### Debug Logging

```lua
-- Add to your server.cfg
set mysql_debug 1  -- Enable debug logging for database operations

-- Manually log queries
local function logQuery(query, params, startTime)
    local duration = (GetGameTimer() - startTime)
    if duration > 100 then
        print(string.format('Slow query detected (took %dms): %s', duration, query))
    end
end

local startTime = GetGameTimer()
exports.oxmysql:execute('SELECT * FROM players', {}, function()
    logQuery('SELECT * FROM players', {}, startTime)
end)
```

## Migration Guide

### From MySQL-Async to OxMySQL

```lua
-- MySQL-Async syntax
MySQL.Async.fetchAll('SELECT * FROM players WHERE identifier = @identifier', {
    ['@identifier'] = identifier
}, function(result)
    -- Handle result
end)

-- OxMySQL equivalent
exports.oxmysql:execute('SELECT * FROM players WHERE identifier = ?', {
    identifier
}, function(result)
    -- Handle result
end)
```

Comprehensive migration table:

| MySQL-Async | OxMySQL |
|-------------|---------|
| `MySQL.Async.fetchAll` | `exports.oxmysql:execute` |
| `MySQL.Async.fetchScalar` | `exports.oxmysql:scalar` |
| `MySQL.Async.execute` | `exports.oxmysql:execute` |
| `MySQL.Async.insert` | `exports.oxmysql:insert` |
| `MySQL.Sync.fetchAll` | `exports.oxmysql:executeSync` |
| `MySQL.Sync.fetchScalar` | `exports.oxmysql:scalarSync` |
| `MySQL.Sync.execute` | `exports.oxmysql:executeSync` |
| `MySQL.Sync.insert` | `exports.oxmysql:insertSync` |

For parameter styles:
- MySQL-Async: `@identifier`
- OxMySQL: `?` (positional parameters)

## Additional Resources

- [OxMySQL Documentation](https://overextended.github.io/oxmysql/)
- [MySQL Documentation](https://dev.mysql.com/doc/)
- [SQL Optimization Guide](https://dev.mysql.com/doc/refman/8.0/en/optimization.html)
- [CitizenFX Framework Discussion](https://forum.cfx.re/t/release-oxmysql-a-mysql-resource/4755550)

## Database Management Applications

Managing your database efficiently requires the right tools. Here are the best applications for managing MySQL/MariaDB databases used in FiveM servers.

### HeidiSQL (Windows - Highly Recommended)

**Why HeidiSQL?**
- **Free and Open Source**: No licensing costs
- **Lightweight**: Fast and responsive interface
- **Portable**: Can run without installation
- **Feature-Rich**: All essential database management features
- **User-Friendly**: Intuitive interface for beginners and experts

**Key Features:**
- **Visual Table Designer**: Create and modify tables with drag-and-drop
- **SQL Editor**: Syntax highlighting, auto-completion, query formatting
- **Data Export/Import**: Support for SQL, CSV, HTML, XML, LaTeX, Wiki markup
- **Session Manager**: Save multiple connection profiles
- **Database Synchronization**: Compare and sync databases
- **User Management**: Visual interface for managing MySQL users and permissions
- **SSH Tunneling**: Secure remote connections
- **Query Builder**: Visual query designer for complex queries

**Getting Started with HeidiSQL:**

1. **Download and Install**
   ```
   Visit: https://www.heidisql.com/download.php
   Choose: Installer or Portable version
   ```

2. **Create Connection Profile**
   - Click "New" button at bottom left
   - Configure connection:
     ```
     Network type: MariaDB or MySQL (TCP/IP)
     Library: libmariadb.dll (default)
     Hostname/IP: localhost (or your server IP)
     User: fivem_user
     Password: your_password
     Port: 3306
     ```
   - Name your session: "FiveM Production" or "FiveM Dev"
   - Click "Save" then "Open"

3. **Common Tasks**

   **Creating a Table:**
   - Right-click database → Create new → Table
   - Add columns with visual editor
   - Set primary keys, indexes, and foreign keys
   - Click "Save"

   **Importing SQL Files:**
   - File → Load SQL file
   - Select your .sql file
   - Click "Execute" (F9)

   **Exporting Database:**
   - Tools → Export database as SQL
   - Select tables to export
   - Choose options (data, structure, both)
   - Save file

   **Search Across All Tables:**
   - Tools → Find text on server
   - Enter search term
   - Select tables to search
   - View results with context

**Pro Tips:**
```sql
-- Use SQL snippets for common queries
-- Tools → Preferences → SQL → Snippets

-- Create custom formatting profiles
-- Tools → Preferences → SQL → Query formatting

-- Enable query history
-- Tools → Preferences → SQL → Query history
```

### DBeaver (Cross-Platform Universal Tool)

**Why DBeaver?**
- **Cross-Platform**: Works on Windows, Linux, macOS
- **Universal**: Supports 100+ different databases
- **Free Community Edition**: Full-featured and open source
- **Advanced Features**: ER diagrams, data analysis, visual query builder
- **Enterprise Ready**: Professional tool used by DBAs worldwide

**Installation:**

**Windows:**
```
Download from: https://dbeaver.io/download/
Choose: Community Edition (free) or Enterprise Edition
Run installer and follow prompts
```

**Linux (Ubuntu/Debian):**
```bash
# Method 1: Using snap
sudo snap install dbeaver-ce

# Method 2: Using apt
wget https://dbeaver.io/files/dbeaver-ce_latest_amd64.deb
sudo dpkg -i dbeaver-ce_latest_amd64.deb
sudo apt-get install -f

# Launch DBeaver
dbeaver
```

**Linux (Fedora/RHEL/CentOS):**
```bash
# Download RPM package
wget https://dbeaver.io/files/dbeaver-ce-latest-stable.x86_64.rpm

# Install with dnf/yum
sudo dnf install dbeaver-ce-latest-stable.x86_64.rpm

# Launch DBeaver
dbeaver
```

**Key Features:**
- **SQL Editor**: Advanced editor with auto-complete and syntax validation
- **Data Viewer**: Inline editing, filtering, sorting
- **ER Diagrams**: Visual database structure diagrams
- **Mock Data Generator**: Generate test data for development
- **Database Compare**: Compare schemas and data between databases
- **Visual Query Builder**: Build complex queries visually
- **Data Transfer**: Migrate data between different database types
- **SSH Tunneling**: Secure connections to remote databases

**Getting Started:**

1. **Create Database Connection**
   - Click "New Database Connection" (Ctrl+Shift+N)
   - Select "MariaDB" or "MySQL"
   - Click "Next"

2. **Configure Connection**
   ```
   Connect by: Host
   Server Host: localhost (or server IP)
   Port: 3306
   Database: fivem
   Authentication: Database Native
   Username: fivem_user
   Password: your_password
   ```

3. **Test and Connect**
   - Click "Test Connection"
   - If successful, click "Finish"
   - Your database will appear in the Database Navigator

**Advanced Features:**

**Creating ER Diagrams:**
```
1. Right-click database → Generate ER Diagram
2. Select tables to include
3. Choose layout (hierarchical, spring, etc.)
4. Export diagram as PNG/SVG/PDF
```

**Mock Data Generation:**
```
1. Right-click table → Generate SQL → Generate Mock Data
2. Configure columns and data types
3. Set number of rows to generate
4. Execute or save SQL script
```

**Database Export:**
```
1. Right-click database → Tools → Export Data
2. Select tables and format (SQL, CSV, XML, JSON)
3. Configure export options
4. Choose destination and export
```

### MySQL Workbench (Official MySQL Tool)

**Why MySQL Workbench?**
- **Official Tool**: Made by MySQL developers
- **Complete Solution**: Design, development, and administration
- **Database Design**: Visual data modeling with EER diagrams
- **Migration Tools**: Migrate from other database systems
- **Performance Dashboard**: Monitor and optimize server performance

**Installation:**

**Windows:**
```
Visit: https://dev.mysql.com/downloads/workbench/
Download Windows MSI Installer
Run installer and follow prompts
```

**Linux (Ubuntu/Debian):**
```bash
# Using apt
sudo apt update
sudo apt install mysql-workbench

# Or using snap
sudo snap install mysql-workbench-community
```

**Key Features:**
- **Database Design**: Visual ER diagrams and forward/reverse engineering
- **SQL Development**: Advanced query editor with debugging
- **Server Administration**: User management, server configuration
- **Performance Tools**: Dashboard, performance schema, query profiler
- **Data Migration**: Wizard for migrating from other databases
- **Schema Comparison**: Compare and synchronize database schemas

**Common Tasks:**

**Database Modeling:**
```
1. Database → Reverse Engineer
2. Connect to your database
3. Select schemas to import
4. Edit model visually
5. Database → Forward Engineer to apply changes
```

**Server Performance Monitoring:**
```
1. Connect to server
2. Server → Performance Dashboard
3. View real-time metrics:
   - Client connections
   - InnoDB buffer pool
   - Query execution times
   - Network traffic
```

### phpMyAdmin (Web-Based Interface)

**Why phpMyAdmin?**
- **Web-Based**: Access from any browser, anywhere
- **No Installation**: Runs on web server
- **Multi-User**: Multiple administrators can work simultaneously
- **Feature Complete**: All database management functions
- **Documentation**: Extensive user guide and community support

**Quick Setup (Linux):**

```bash
# Ubuntu/Debian installation
sudo apt update
sudo apt install phpmyadmin php-mbstring php-zip php-gd php-json php-curl

# Select web server during installation (apache2 or nginx)

# Enable required PHP extensions
sudo phpenmod mbstring

# Restart web server
sudo systemctl restart apache2
# or
sudo systemctl restart nginx

# Access phpMyAdmin
# Navigate to: http://localhost/phpmyadmin
```

**Nginx Configuration (if using Nginx):**
```nginx
# /etc/nginx/sites-available/phpmyadmin
server {
    listen 8080;
    server_name localhost;
    root /usr/share/phpmyadmin;
    index index.php index.html;

    location / {
        try_files $uri $uri/ =404;
    }

    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
    }

    location ~ /\.ht {
        deny all;
    }
}

# Enable site
sudo ln -s /etc/nginx/sites-available/phpmyadmin /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

**Security Hardening:**

```bash
# Create .htaccess for additional authentication
sudo nano /usr/share/phpmyadmin/.htaccess

# Add content:
AuthType Basic
AuthName "Restricted Access"
AuthUserFile /etc/phpmyadmin/.htpasswd
Require valid-user

# Create password file
sudo mkdir -p /etc/phpmyadmin
sudo htpasswd -c /etc/phpmyadmin/.htpasswd admin

# Set permissions
sudo chmod 640 /etc/phpmyadmin/.htpasswd
sudo chown www-data:www-data /etc/phpmyadmin/.htpasswd

# Change default URL (optional)
sudo ln -s /usr/share/phpmyadmin /var/www/html/mydbadmin
```

### Adminer (Lightweight Alternative)

**Why Adminer?**
- **Single File**: Just one PHP file, easy deployment
- **Fast**: Much lighter than phpMyAdmin
- **Feature Rich**: Supports multiple databases (MySQL, PostgreSQL, SQLite, etc.)
- **Clean Interface**: Simple and intuitive design
- **No Configuration**: Works out of the box

**Installation:**

```bash
# Create directory
sudo mkdir -p /var/www/html/adminer

# Download latest version
cd /var/www/html/adminer
sudo wget https://www.adminer.org/latest.php -O index.php

# Set permissions
sudo chown -R www-data:www-data /var/www/html/adminer
sudo chmod 644 /var/www/html/adminer/index.php

# Access at: http://localhost/adminer
```

**Custom Theme:**
```bash
# Download theme
cd /var/www/html/adminer
sudo wget https://raw.githubusercontent.com/vrana/adminer/master/designs/nette/adminer.css

# Adminer will automatically use the CSS file
```

### Command-Line Tools

#### mycli (Enhanced MySQL CLI)

**Installation:**

```bash
# Ubuntu/Debian
sudo apt install mycli

# Or using pip
pip install mycli

# macOS
brew install mycli
```

**Features:**
- Auto-completion of SQL keywords and table/column names
- Syntax highlighting
- Query history with search
- Multi-line editing
- Smart completion (context-aware suggestions)
- Vi mode support
- Pretty formatted output

**Usage:**
```bash
# Connect to database
mycli -u fivem_user -p fivem

# Or with full connection string
mycli mysql://fivem_user:password@localhost/fivem

# Common commands
\dt          # List tables
\d table_name  # Describe table
\e           # Open editor for query
\G           # Vertical output format
\q           # Quit
```

**Configuration:**
```bash
# Edit config file
nano ~/.myclirc

# Useful settings:
[main]
multi_line = True
vi_mode = False
auto_vertical_output = True
syntax_style = monokai
key_bindings = emacs
```

### Remote Access Setup

#### SSH Tunneling for Secure Remote Access

**Linux/macOS:**
```bash
# Create SSH tunnel
ssh -L 3306:localhost:3306 username@your-server-ip

# Keep tunnel open in background
ssh -f -N -L 3306:localhost:3306 username@your-server-ip

# Now connect to localhost:3306 in your database tool
# All traffic is encrypted through SSH
```

**Windows (using PuTTY):**
```
1. Open PuTTY
2. Enter server hostname
3. Go to: Connection → SSH → Tunnels
4. Add port forwarding:
   Source port: 3306
   Destination: localhost:3306
   Type: Local
5. Click "Add"
6. Connect to your server
7. In database tool, connect to localhost:3306
```

**HeidiSQL with SSH Tunnel:**
```
1. Create new session
2. Go to "SSH tunnel" tab
3. Enable "Use SSH tunnel"
4. Configure:
   SSH host + port: your-server-ip:22
   Username: ssh-username
   Password or Private key file
5. In "Settings" tab:
   Hostname: 127.0.0.1
   Port: 3306
6. Save and connect
```

### Database Backup Tools

#### Automated Backup with cron (Linux)

```bash
# Create backup script
nano ~/backup-fivem-db.sh

# Add content:
#!/bin/bash
BACKUP_DIR="/backups/database"
DB_NAME="fivem"
DB_USER="fivem_user"
DB_PASS="your_password"
DATE=$(date +%Y%m%d_%H%M%S)

mkdir -p $BACKUP_DIR
mysqldump -u$DB_USER -p$DB_PASS --single-transaction --routines --triggers $DB_NAME | gzip > $BACKUP_DIR/fivem_$DATE.sql.gz

# Keep only last 30 days
find $BACKUP_DIR -name "*.sql.gz" -mtime +30 -delete

# Make executable
chmod +x ~/backup-fivem-db.sh

# Add to crontab for daily 3 AM backups
crontab -e

# Add line:
0 3 * * * /home/username/backup-fivem-db.sh
```

#### Windows Task Scheduler Backup

```batch
REM backup-fivem-db.bat
@echo off
set BACKUP_DIR=C:\backups\database
set DB_NAME=fivem
set DB_USER=fivem_user
set DB_PASS=your_password
set DATE=%date:~-4,4%%date:~-10,2%%date:~-7,2%_%time:~0,2%%time:~3,2%%time:~6,2%

if not exist "%BACKUP_DIR%" mkdir "%BACKUP_DIR%"
"C:\Program Files\MariaDB\bin\mysqldump.exe" -u%DB_USER% -p%DB_PASS% --single-transaction --routines --triggers %DB_NAME% > %BACKUP_DIR%\fivem_%DATE%.sql

REM Create scheduled task:
REM Task Scheduler → Create Basic Task
REM Trigger: Daily at 3:00 AM
REM Action: Start a program → backup-fivem-db.bat
```

### Monitoring and Alerts

#### Database Monitoring Script

```bash
#!/bin/bash
# db-monitor.sh - Monitor database health

DB_USER="fivem_user"
DB_PASS="your_password"
DB_NAME="fivem"

# Check if MySQL is running
if ! systemctl is-active --quiet mariadb; then
    echo "ERROR: MariaDB is not running!" | mail -s "DB Alert" admin@example.com
    exit 1
fi

# Check connection
if ! mysql -u$DB_USER -p$DB_PASS -e "SELECT 1" &>/dev/null; then
    echo "ERROR: Cannot connect to database!" | mail -s "DB Alert" admin@example.com
    exit 1
fi

# Check database size
DB_SIZE=$(mysql -u$DB_USER -p$DB_PASS -e "SELECT ROUND(SUM(data_length + index_length) / 1024 / 1024, 2) FROM information_schema.tables WHERE table_schema='$DB_NAME'" -s)

if (( $(echo "$DB_SIZE > 5000" | bc -l) )); then
    echo "WARNING: Database size is ${DB_SIZE}MB" | mail -s "DB Alert" admin@example.com
fi

# Check for slow queries
SLOW_QUERIES=$(mysql -u$DB_USER -p$DB_PASS -e "SHOW GLOBAL STATUS LIKE 'Slow_queries'" -s | awk '{print $2}')

if [ "$SLOW_QUERIES" -gt 100 ]; then
    echo "WARNING: ${SLOW_QUERIES} slow queries detected" | mail -s "DB Alert" admin@example.com
fi

echo "Database health check passed"
```

<Callout type="info">
**Tool Recommendation**: For Windows users, HeidiSQL is the best choice. For Linux users, DBeaver offers excellent cross-platform compatibility and advanced features.
</Callout>

<Callout type="warning">
  Avoid using synchronous database operations in production environments, as they can block the main thread and cause performance issues.
</Callout>

<Callout type="info">
  For more information about server performance, see our [Server Optimization](/docs/cfx/performance/server-optimization) guide.
</Callout>
